<app-header></app-header>
<div class="pantalla-dividida">
  <!-- ğŸ§  SecciÃ³n problema -->
  <div class="seccion-pregunta">
    <div class="card-problema">
      <h2>Problema MatemÃ¡tico</h2>
      <div class="narracion-retro">
        <span class="typewriter-text">{{ textoNarrado }}</span>
      </div>
      <img
        src="assets/images/d1/practice-end-resources/practice-end.png"
        alt="imagen del problema"
        class="imagen-pregunta centrada"
      />
    </div>

    <div class="consejo-personaje" *ngIf="mostrarConsejo">
      <img
        src="assets/images/d1/practice-end-resources/vik-front.png"
        alt="personaje"
        class="personaje-img grande"
      />
      <div class="bocadillo-retro">
        ğŸ’¡ Consejo: Identifica lo que sabes antes de resolver lo que no sabes.
      </div>
    </div>
  </div>

  <!-- ğŸ® SecciÃ³n juego -->
  <div class="seccion-juego">
    <h2 class="titulo-juego">ğŸ“Œ Arrastra los datos en las cajas de abajo...</h2>

    <!-- Tarjetas disponibles -->
    <div
      id="zonaDisponible"
      class="tarjetas"
      cdkDropList
      [cdkDropListData]="zonaDisponible"
      [cdkDropListConnectedTo]="['zonaDato', 'zonaFaltante']"
      (cdkDropListDropped)="onDrop($event)"
    >
      <div class="tarjeta" *ngFor="let pista of zonaDisponible" cdkDrag>
        {{ pista }}
      </div>
    </div>

    <!-- âœ… Botones arriba de los tableros -->
    <div class="botones-juego">
      <button class="btn-validar" (click)="validarRespuesta()">ENVIAR RESPUESTA</button>
      <p class="feedback" [class.error]="mensajeFeedback.includes('âŒ')">
        {{ mensajeFeedback }}
      </p>
      <button *ngIf="mensajeFeedback.includes('âŒ')" class="btn-reintentar" (click)="reiniciarJuego()">
        ğŸ” INTENTAR DE NUEVO
      </button>
      <!-- BotÃ³n continuar -->
      <button *ngIf="mensajeFeedback.includes('âœ…')" class="btn-flecha" (click)="continuar()">
        CONTINUAR â¡
      </button>
    </div>

    <!-- ğŸ”„ Tableros alineados en horizontal -->
    <div class="zona-tableros-horizontal">
      <div
        class="zona-drop"
        id="zonaDato"
        cdkDropList
        [cdkDropListData]="zonaDato"
        [cdkDropListConnectedTo]="['zonaDisponible', 'zonaFaltante']"
        (cdkDropListDropped)="onDrop($event)"
      >
        <h3>Dato conocido</h3>
        <div *ngFor="let d of zonaDato" class="tarjeta-correcta">{{ d }}</div>
      </div>

      <div
        class="zona-drop"
        id="zonaFaltante"
        cdkDropList
        [cdkDropListData]="zonaFaltante"
        [cdkDropListConnectedTo]="['zonaDisponible', 'zonaDato']"
        (cdkDropListDropped)="onDrop($event)"
      >
        <h3>Â¿CuÃ¡l es la pregunta?</h3>
        <div *ngFor="let f of zonaFaltante" class="tarjeta-correcta">{{ f }}</div>
      </div>
    </div>


  </div>
</div>
